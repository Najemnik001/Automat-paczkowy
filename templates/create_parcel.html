<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Utwórz paczkę</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />

    <style>
        body{
            min-height:100vh;
            background: linear-gradient(to right, #ff4d4f, #1890ff);
            display:flex;align-items:center;justify-content:center;
            padding:40px 16px;
        }
        .page-card{
            background:#fff;color:#000; width:100%; max-width:720px;
            border-radius:0; box-shadow:0 6px 14px rgba(0,0,0,.15);
            padding:28px;
        }
        input, select, textarea, .form-control, .btn, .list-group-item{
            border-radius:0 !important;
        }
        .select2-container{ width:100% !important; }
        .select2-selection--single{ height:38px !important; }
        .select2-selection__rendered{ line-height:38px !important; }
        .select2-selection__arrow{ height:38px !important; }
    </style>
</head>
<body>
<div class="page-card">
    <h2 class="mb-4 text-center">Utwórz paczkę</h2>

    <form method="POST" novalidate>
        {% csrf_token %}

        <div class="mb-3">
            <label for="{{ form.name.id_for_label }}" class="form-label">Nazwa paczki</label>
            {{ form.name }}
            {% if form.name.errors %}
                <div class="text-danger mt-1">
                    {% for error in form.name.errors %}{{ error }}{% if not forloop.last %}<br>{% endif %}{% endfor %}
                </div>
            {% endif %}
        </div>
    
        <div class="mb-3">
            <label for="{{ form.package_size.id_for_label }}" class="form-label">Rozmiar paczki (M: 8x40x60cm, D:40x40x60cm) </label>
            {{ form.package_size }}
            {% if form.package_size.errors %}
                <div class="text-danger mt-1">
                    {% for error in form.package_size.errors %}{{ error }}{% if not forloop.last %}<br>{% endif %}{% endfor %}
                </div>
            {% endif %}
        </div>
    
        <div class="mb-3">
            <label for="{{ form.receiver_email.id_for_label }}" class="form-label">Email odbiorcy</label>
            {{ form.receiver_email }}
            {% if form.receiver_email.errors %}
                <div class="text-danger mt-1">
                    {% for error in form.receiver_email.errors %}{{ error }}{% if not forloop.last %}<br>{% endif %}{% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="mb-3">
            <label for="{{ form.sent_from_machine.id_for_label }}" class="form-label">Paczkomat nadawczy</label>
            {{ form.sent_from_machine }}
            {% if form.sent_from_machine.errors %}
                <div class="text-danger mt-1">
                    {% for error in form.sent_from_machine.errors %}{{ error }}{% if not forloop.last %}<br>{% endif %}{% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="mb-4">
            <label for="{{ form.sent_to_machine.id_for_label }}" class="form-label">Paczkomat odbiorczy</label>
            {{ form.sent_to_machine }}
            {% if form.sent_to_machine.errors %}
                <div class="text-danger mt-1">
                    {% for error in form.sent_to_machine.errors %}{{ error }}{% if not forloop.last %}<br>{% endif %}{% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary">Utwórz paczkę</button>
            <a href="{% url 'main_page' %}" class="btn btn-outline-secondary">Wróć do strony głównej</a>
        </div>
    </form>

    {% if messages %}
        <div class="mt-3">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags|default:'info' }} mb-2" role="alert" style="border-radius:0;">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
    $(function() {
        $('#id_sent_from_machine').select2({
            placeholder: 'Wybierz automat nadawczy',
            allowClear: true
        });
        $('#id_sent_to_machine').select2({
            placeholder: 'Wybierz automat odbiorczy',
            allowClear: true
        });
    });
</script>
</body>
</html>
